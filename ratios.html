<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ratios Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #333;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 2em;
    }

    .quiz-container {
      max-width: 800px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      border-radius: 12px;
    }

    .question, .score, .timer {
      font-size: 1.2em;
      margin-bottom: 20px;
    }

    .options label {
      display: block;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fafafa;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .options label:hover {
      background-color: #e0e0e0;
    }

    .controls {
      margin-top: 20px;
    }

    button {
      background-color: #333;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }

    button:hover {
      background-color: #555;
    }

    .hidden {
      display: none;
    }

    .summary-table {
      width: 100%;
      border-collapse: collapse;
    }

    .summary-table th, .summary-table td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: left;
    }
  </style>
</head>
<body>

<header>Ratios - Quiz</header>

<div class="quiz-container">

  <div id="start-section">
    <p class="question">How many questions would you like to attempt?</p>
    <div class="options">
      <button onclick="chooseCount(10)">10</button>
      <button onclick="chooseCount(20)">20</button>
      <button onclick="chooseCount(30)">30</button>
      <button onclick="chooseCount(50)">50</button>
    </div>
  </div>

  <div id="timer-section" class="hidden">
    <p class="question">Select quiz duration:</p>
    <div class="options">
      <button onclick="startQuiz(3)">3 minutes</button>
      <button onclick="startQuiz(5)">5 minutes</button>
      <button onclick="startQuiz(10)">10 minutes</button>
    </div>
  </div>

  <div id="quiz-section" class="hidden">
    <div class="timer" id="timer">Timer: --:--</div>
    <div id="question" class="question"></div>
    <div class="options" id="options"></div>
    <div class="controls">
      <button onclick="nextQuestion()">Next</button>
    </div>
  </div>

  <div id="result-section" class="hidden">
    <div class="score" id="score"></div>
    <h3>Summary:</h3>
    <table class="summary-table" id="summary-table">
      <thead>
        <tr>
          <th>Q.No</th>
          <th>Question</th>
          <th>Your Answer</th>
          <th>Correct Answer</th>
          <th>Result</th>
          <th>Time Taken (s)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button onclick="location.reload()">Play Again</button>
  </div>

</div>

<script>
  // Sample placeholder for questions array
  const allQuestions = [
   [
  { "question": "What is the ratio of 4 to 2?", "options": ["2:1", "1:2", "3:2", "2:3"], "answer": "2:1" },
  { "question": "Simplify the ratio 10:5.", "options": ["2:1", "5:10", "1:2", "3:1"], "answer": "2:1" },
  { "question": "What is the ratio of 15 to 45?", "options": ["1:3", "3:1", "2:3", "1:2"], "answer": "1:3" },
  { "question": "Express 12:16 in simplest form.", "options": ["3:4", "4:3", "2:3", "3:2"], "answer": "3:4" },
  { "question": "The ratio of boys to girls is 3:2. If there are 15 boys, how many girls are there?", "options": ["10", "12", "9", "8"], "answer": "10" },
  { "question": "A recipe needs sugar and flour in the ratio 2:5. If 10 cups of flour are used, how much sugar is needed?", "options": ["4", "3", "2", "5"], "answer": "4" },
  { "question": "Simplify the ratio 100:25.", "options": ["4:1", "1:4", "2:1", "3:1"], "answer": "4:1" },
  { "question": "What is the ratio of 18 to 12?", "options": ["3:2", "2:3", "3:4", "4:3"], "answer": "3:2" },
  { "question": "If A:B = 2:3 and B:C = 4:5, what is A:C?", "options": ["8:15", "2:5", "3:4", "4:7"], "answer": "8:15" },
  { "question": "In a class, the ratio of boys to girls is 5:3. If there are 40 students, how many are girls?", "options": ["15", "20", "25", "30"], "answer": "15" },

  { "question": "The ratio of cats to dogs is 6:4. Simplify it.", "options": ["3:2", "2:3", "4:3", "3:4"], "answer": "3:2" },
  { "question": "If 2 pens cost $10, what is the cost of 5 pens in the same ratio?", "options": ["25", "20", "15", "30"], "answer": "25" },
  { "question": "A bag contains red and blue marbles in the ratio 3:7. What fraction of marbles are red?", "options": ["3/10", "3/7", "7/10", "3/4"], "answer": "3/10" },
  { "question": "What is the simplest form of the ratio 36:48?", "options": ["3:4", "4:3", "2:3", "6:8"], "answer": "3:4" },
  { "question": "If the ratio of x to y is 5:6 and y = 30, what is x?", "options": ["25", "20", "15", "25"], "answer": "25" },
  { "question": "Simplify 121:11.", "options": ["11:1", "1:11", "10:1", "12:1"], "answer": "11:1" },
  { "question": "The ratio of 7:14 simplifies to:", "options": ["1:2", "2:1", "3:2", "2:3"], "answer": "1:2" },
  { "question": "Which of the following is equivalent to 4:5?", "options": ["8:10", "12:20", "3:5", "2:5"], "answer": "8:10" },
  { "question": "Divide 60 in the ratio 1:2.", "options": ["20, 40", "30, 30", "25, 35", "10, 50"], "answer": "20, 40" },
  { "question": "Divide 90 in the ratio 2:1.", "options": ["60, 30", "45, 45", "30, 60", "40, 50"], "answer": "60, 30" },

  { "question": "What is 75:25 simplified?", "options": ["3:1", "1:3", "2:1", "1:2"], "answer": "3:1" },
  { "question": "If A:B = 4:1 and A = 20, find B.", "options": ["5", "10", "4", "6"], "answer": "5" },
  { "question": "Simplify 150:50.", "options": ["3:1", "1:3", "2:1", "5:1"], "answer": "3:1" },
  { "question": "If a:b = 3:4, b:c = 2:3, what is a:c?", "options": ["3:6", "3:5", "1:2", "1:2"], "answer": "1:2" },
  { "question": "Which of these is not equivalent to 2:3?", "options": ["4:6", "6:9", "8:12", "9:12"], "answer": "9:12" },
  { "question": "Ratio of 30 minutes to 2 hours is:", "options": ["1:4", "1:2", "2:1", "1:3"], "answer": "1:4" },
  { "question": "If a:b = 5:8 and b = 24, find a.", "options": ["15", "14", "12", "18"], "answer": "15" },
  { "question": "Divide 80 in the ratio 3:5.", "options": ["30, 50", "40, 40", "20, 60", "24, 56"], "answer": "30, 50" },
  { "question": "What is the ratio of 250 ml to 1 liter?", "options": ["1:4", "1:2", "1:3", "2:5"], "answer": "1:4" },
  { "question": "What is 2:8 in simplest form?", "options": ["1:4", "2:4", "1:3", "2:3"], "answer": "1:4" },

  { "question": "Ratio of 1 dozen to 24 items is:", "options": ["1:2", "2:1", "1:3", "3:1"], "answer": "1:2" },
  { "question": "Convert 3:4 to a decimal.", "options": ["0.75", "0.5", "1.5", "0.6"], "answer": "0.75" },
  { "question": "What is 6:2 simplified?", "options": ["3:1", "2:1", "4:1", "1:3"], "answer": "3:1" },
  { "question": "The ratio of length to width is 5:2. If width is 6, what is length?", "options": ["15", "12", "10", "20"], "answer": "15" },
  { "question": "If 9 pencils cost $27, what is the cost per pencil?", "options": ["3", "2", "1", "4"], "answer": "3" },
  { "question": "If 3x = 12, and x:y = 1:4, what is y?", "options": ["16", "12", "8", "4"], "answer": "16" },
  { "question": "What is 9:12 simplified?", "options": ["3:4", "2:3", "4:3", "3:2"], "answer": "3:4" },
  { "question": "Ratio of 1 hour to 30 minutes is:", "options": ["2:1", "1:2", "3:1", "4:1"], "answer": "2:1" },
  { "question": "If a:b = 7:9 and b:c = 3:4, what is a:c?", "options": ["7:12", "7:9", "21:36", "7:12"], "answer": "21:36" },
  { "question": "Simplify 44:66.", "options": ["2:3", "1:2", "2:1", "3:2"], "answer": "2:3" },

  { "question": "What is the ratio of 2kg to 500g?", "options": ["4:1", "2:1", "1:4", "1:2"], "answer": "4:1" },
  { "question": "Divide â‚¹100 in the ratio 3:2.", "options": ["60, 40", "70, 30", "50, 50", "80, 20"], "answer": "60, 40" },
  { "question": "If A:B = 5:6 and B = 12, find A.", "options": ["10", "8", "15", "20"], "answer": "10" },
  { "question": "Ratio of 24 to 72 is:", "options": ["1:3", "3:1", "2:3", "1:2"], "answer": "1:3" },
  { "question": "Simplify 18:24.", "options": ["3:4", "2:3", "4:3", "3:2"], "answer": "3:4" },
  { "question": "If 8:12 = x:6, find x.", "options": ["4", "5", "6", "3"], "answer": "4" },
  { "question": "Ratio of 120 to 100 is:", "options": ["6:5", "5:6", "3:4", "4:3"], "answer": "6:5" },
  { "question": "What is the ratio of 45 minutes to 1 hour?", "options": ["3:4", "4:3", "1:2", "2:3"], "answer": "3:4" },
  { "question": "Which ratio is equivalent to 7:14?", "options": ["1:2", "2:3", "3:4", "2:1"], "answer": "1:2" },
  { "question": "If 5x = 25 and x:y = 1:5, what is y?", "options": ["25", "5", "10", "20"], "answer": "25" }
]
];

  let selectedQuestions = [];
  let currentIndex = 0;
  let score = 0;
  let timerInterval;
  let questionCount = 0;
  let questionStartTime;
  const questionStats = [];

  function chooseCount(count) {
    questionCount = count;
    document.getElementById("start-section").classList.add("hidden");
    document.getElementById("timer-section").classList.remove("hidden");
  }

  function startQuiz(minutes) {
    document.getElementById("timer-section").classList.add("hidden");
    document.getElementById("quiz-section").classList.remove("hidden");

    selectedQuestions = shuffleArray([...allQuestions]).slice(0, questionCount);
    startTimer(minutes * 60);
    showQuestion();
  }

  function shuffleArray(arr) {
    return arr.sort(() => Math.random() - 0.5);
  }

  function startTimer(seconds) {
    const timerEl = document.getElementById("timer");
    timerInterval = setInterval(() => {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      timerEl.textContent = `Timer: ${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
      if (seconds === 0) {
        clearInterval(timerInterval);
        alert("Time's up!");
        showResult();
      }
      seconds--;
    }, 1000);
  }

  function showQuestion() {
    questionStartTime = Date.now();
    const currentQ = selectedQuestions[currentIndex];
    document.getElementById("question").textContent = `Q${currentIndex + 1}: ${currentQ.question}`;
    const optionsEl = document.getElementById("options");
    optionsEl.innerHTML = "";

    currentQ.options.forEach(opt => {
      const label = document.createElement("label");
      label.innerHTML = `<input type="radio" name="option" value="${opt}"> ${opt}`;
      optionsEl.appendChild(label);
    });
  }

  function nextQuestion() {
    const selected = document.querySelector('input[name="option"]:checked');
    if (!selected) {
      alert("Please select an option!");
      return;
    }

    const timeTaken = Math.floor((Date.now() - questionStartTime) / 1000);
    const currentQ = selectedQuestions[currentIndex];
    const userAnswer = selected.value;
    const isCorrect = userAnswer === currentQ.answer;
    if (isCorrect) score++;

    questionStats.push({
      question: currentQ.question,
      userAnswer,
      correctAnswer: currentQ.answer,
      isCorrect,
      timeTaken
    });

    currentIndex++;
    if (currentIndex < selectedQuestions.length) {
      showQuestion();
    } else {
      clearInterval(timerInterval);
      showResult();
    }
  }

  function showResult() {
    document.getElementById("quiz-section").classList.add("hidden");
    document.getElementById("result-section").classList.remove("hidden");
    document.getElementById("score").textContent = `Your Score: ${score} out of ${selectedQuestions.length}`;

    const tbody = document.getElementById("summary-table").querySelector("tbody");
    tbody.innerHTML = "";
    questionStats.forEach((q, index) => {
      const row = `<tr>
        <td>${index + 1}</td>
        <td>${q.question}</td>
        <td>${q.userAnswer}</td>
        <td>${q.correctAnswer}</td>
        <td style="color: ${q.isCorrect ? 'green' : 'red'}">${q.isCorrect ? 'Correct' : 'Wrong'}</td>
        <td>${q.timeTaken}s</td>
      </tr>`;
      tbody.insertAdjacentHTML("beforeend", row);
    });
  }
</script>

</body>
</html>