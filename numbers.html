<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Numbers Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #333;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 2em;
    }

    .quiz-container {
      max-width: 800px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      border-radius: 12px;
    }

    .question, .score, .timer {
      font-size: 1.2em;
      margin-bottom: 20px;
    }

    .options label {
      display: block;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fafafa;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .options label:hover {
      background-color: #e0e0e0;
    }

    .controls {
      margin-top: 20px;
    }

    button {
      background-color: #333;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }

    button:hover {
      background-color: #555;
    }

    .hidden {
      display: none;
    }

    .summary-table {
      width: 100%;
      border-collapse: collapse;
    }

    .summary-table th, .summary-table td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: left;
    }
  </style>
</head>
<body>

<header>Numbers - Quiz</header>

<div class="quiz-container">

  <div id="start-section">
    <p class="question">How many questions would you like to attempt?</p>
    <div class="options">
      <button onclick="chooseCount(10)">10</button>
      <button onclick="chooseCount(20)">20</button>
      <button onclick="chooseCount(30)">30</button>
      <button onclick="chooseCount(50)">50</button>
    </div>
  </div>

  <div id="timer-section" class="hidden">
    <p class="question">Select quiz duration:</p>
    <div class="options">
      <button onclick="startQuiz(3)">3 minutes</button>
      <button onclick="startQuiz(5)">5 minutes</button>
      <button onclick="startQuiz(10)">10 minutes</button>
    </div>
  </div>

  <div id="quiz-section" class="hidden">
    <div class="timer" id="timer">Timer: --:--</div>
    <div id="question" class="question"></div>
    <div class="options" id="options"></div>
    <div class="controls">
      <button onclick="nextQuestion()">Next</button>
    </div>
  </div>

  <div id="result-section" class="hidden">
    <div class="score" id="score"></div>
    <h3>Summary:</h3>
    <table class="summary-table" id="summary-table">
      <thead>
        <tr>
          <th>Q.No</th>
          <th>Question</th>
          <th>Your Answer</th>
          <th>Correct Answer</th>
          <th>Result</th>
          <th>Time Taken (s)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button onclick="location.reload()">Play Again</button>
  </div>

</div>

<script>
  // Sample placeholder for questions array
  const allQuestions = [
   { question: "Which of the following is a prime number?", options: ["18", "21", "23", "27"], answer: "23" },
    { question: "What is the LCM of 12 and 15?", options: ["60", "90", "30", "45"], answer: "60" },
    { question: "What is 9^2?", options: ["81", "72", "90", "79"], answer: "81" },
    { question: "Which is a perfect cube?", options: ["27", "16", "36", "64"], answer: "27" },
    { question: "Find the HCF of 8 and 12.", options: ["2", "4", "6", "8"], answer: "4" },
    { question: "What is 15% of 200?", options: ["25", "30", "35", "40"], answer: "30" },
    { question: "Which number is divisible by 11?", options: ["143", "142", "145", "147"], answer: "143" },
    { question: "What is the smallest 3-digit number?", options: ["100", "101", "111", "99"], answer: "100" },
    { question: "What is the square root of 144?", options: ["11", "13", "12", "14"], answer: "12" },
    { question: "What is 3/4 of 100?", options: ["75", "70", "80", "65"], answer: "75" },
    { question: "What is 25 + 37?", options: ["62", "63", "60", "64"], answer: "62" },
    { question: "What is 49 - 15?", options: ["33", "34", "35", "36"], answer: "34" },
    { question: "What is the square of 5?", options: ["10", "15", "25", "20"], answer: "25" },
    { question: "What is 100 divided by 4?", options: ["20", "25", "30", "40"], answer: "25" },
    { question: "Which is a prime number?", options: ["29", "27", "30", "32"], answer: "29" },
    { question: "What is the cube of 3?", options: ["27", "18", "24", "30"], answer: "27" },
    { question: "What is 10% of 250?", options: ["20", "25", "30", "35"], answer: "25" },
    { question: "What is 7 x 8?", options: ["54", "56", "58", "60"], answer: "56" },
    { question: "What is 64 ÷ 8?", options: ["6", "7", "8", "9"], answer: "8" },
    { question: "Which number is a multiple of 9?", options: ["81", "83", "85", "87"], answer: "81" },
    { question: "What is 45% of 200?", options: ["80", "85", "90", "95"], answer: "90" },
    { question: "What is 121 a square of?", options: ["10", "11", "12", "13"], answer: "11" },
    { question: "What is the cube root of 125?", options: ["4", "5", "6", "7"], answer: "5" },
    { question: "Find LCM of 4 and 6.", options: ["12", "18", "24", "6"], answer: "12" },
    { question: "What is 36 ÷ 6?", options: ["4", "5", "6", "7"], answer: "6" },
    { question: "Which number is divisible by 5?", options: ["55", "56", "57", "58"], answer: "55" },
    { question: "What is 13 x 3?", options: ["36", "37", "38", "39"], answer: "39" },
    { question: "What is 100 - 45?", options: ["55", "56", "57", "58"], answer: "55" },
    { question: "What is 18 + 24?", options: ["41", "42", "43", "44"], answer: "42" },
    { question: "What is 3 squared?", options: ["6", "7", "8", "9"], answer: "9" },
    { question: "What is 8 x 7?", options: ["54", "55", "56", "57"], answer: "56" },
    { question: "What is 90 ÷ 10?", options: ["9", "8", "7", "6"], answer: "9" },
    { question: "What is 5 x 9?", options: ["45", "44", "43", "42"], answer: "45" },
    { question: "What is 2 + 3 x 4?", options: ["14", "20", "12", "10"], answer: "14" },
    { question: "Which is a square number?", options: ["36", "38", "40", "42"], answer: "36" },
    { question: "What is 50% of 80?", options: ["30", "35", "40", "45"], answer: "40" },
    { question: "What is 7 x 6?", options: ["40", "42", "44", "46"], answer: "42" },
    { question: "What is 15 x 2?", options: ["20", "30", "25", "35"], answer: "30" },
    { question: "What is 32 ÷ 4?", options: ["6", "7", "8", "9"], answer: "8" },
    { question: "What is 11 x 11?", options: ["121", "122", "123", "124"], answer: "121" },
    { question: "What is 4^2?", options: ["16", "17", "18", "19"], answer: "16" },
    { question: "What is 20 x 2?", options: ["40", "30", "20", "50"], answer: "40" },
    { question: "What is 6 x 9?", options: ["52", "54", "56", "58"], answer: "54" },
    { question: "What is 100 ÷ 20?", options: ["4", "5", "6", "7"], answer: "5" },
    { question: "Which number is even?", options: ["12", "13", "15", "17"], answer: "12" },
    { question: "Which number is odd?", options: ["10", "12", "14", "15"], answer: "15" },
    { question: "What is 19 + 1?", options: ["20", "21", "22", "23"], answer: "20" },
    { question: "What is 14 - 6?", options: ["7", "8", "9", "10"], answer: "8" },
    { question: "What is 5 x 5?", options: ["20", "25", "30", "35"], answer: "25" },
    { question: "What is 60 ÷ 10?", options: ["5", "6", "7", "8"], answer: "6" },
    { question: "What is 9 x 5?", options: ["40", "45", "50", "55"], answer: "45" }
  ];

  let selectedQuestions = [];
  let currentIndex = 0;
  let score = 0;
  let timerInterval;
  let questionCount = 0;
  let questionStartTime;
  const questionStats = [];

  function chooseCount(count) {
    questionCount = count;
    document.getElementById("start-section").classList.add("hidden");
    document.getElementById("timer-section").classList.remove("hidden");
  }

  function startQuiz(minutes) {
    document.getElementById("timer-section").classList.add("hidden");
    document.getElementById("quiz-section").classList.remove("hidden");

    selectedQuestions = shuffleArray([...allQuestions]).slice(0, questionCount);
    startTimer(minutes * 60);
    showQuestion();
  }

  function shuffleArray(arr) {
    return arr.sort(() => Math.random() - 0.5);
  }

  function startTimer(seconds) {
    const timerEl = document.getElementById("timer");
    timerInterval = setInterval(() => {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      timerEl.textContent = `Timer: ${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
      if (seconds === 0) {
        clearInterval(timerInterval);
        alert("Time's up!");
        showResult();
      }
      seconds--;
    }, 1000);
  }

  function showQuestion() {
    questionStartTime = Date.now();
    const currentQ = selectedQuestions[currentIndex];
    document.getElementById("question").textContent = `Q${currentIndex + 1}: ${currentQ.question}`;
    const optionsEl = document.getElementById("options");
    optionsEl.innerHTML = "";

    currentQ.options.forEach(opt => {
      const label = document.createElement("label");
      label.innerHTML = `<input type="radio" name="option" value="${opt}"> ${opt}`;
      optionsEl.appendChild(label);
    });
  }

  function nextQuestion() {
    const selected = document.querySelector('input[name="option"]:checked');
    if (!selected) {
      alert("Please select an option!");
      return;
    }

    const timeTaken = Math.floor((Date.now() - questionStartTime) / 1000);
    const currentQ = selectedQuestions[currentIndex];
    const userAnswer = selected.value;
    const isCorrect = userAnswer === currentQ.answer;
    if (isCorrect) score++;

    questionStats.push({
      question: currentQ.question,
      userAnswer,
      correctAnswer: currentQ.answer,
      isCorrect,
      timeTaken
    });

    currentIndex++;
    if (currentIndex < selectedQuestions.length) {
      showQuestion();
    } else {
      clearInterval(timerInterval);
      showResult();
    }
  }

  function showResult() {
    document.getElementById("quiz-section").classList.add("hidden");
    document.getElementById("result-section").classList.remove("hidden");
    document.getElementById("score").textContent = `Your Score: ${score} out of ${selectedQuestions.length}`;

    const tbody = document.getElementById("summary-table").querySelector("tbody");
    tbody.innerHTML = "";
    questionStats.forEach((q, index) => {
      const row = `<tr>
        <td>${index + 1}</td>
        <td>${q.question}</td>
        <td>${q.userAnswer}</td>
        <td>${q.correctAnswer}</td>
        <td style="color: ${q.isCorrect ? 'green' : 'red'}">${q.isCorrect ? 'Correct' : 'Wrong'}</td>
        <td>${q.timeTaken}s</td>
      </tr>`;
      tbody.insertAdjacentHTML("beforeend", row);
    });
  }
</script>

</body>
</html>